{"version":3,"sources":["webpack:///src/components/Settings.vue","webpack:///./src/components/Settings.vue?cd3e","webpack:///./src/components/Settings.vue"],"names":["Settings","data","trackers","evoUsers","evoUser","projects","loginToken","passwordToken","currentTracker","id","title","api_url","type","showTracker","showUser","showToken","showAlert","alertMessage","methods","getTrackers","_this","this","api","then","response","catch","error","console","log","getEvoUsers","_this2","users","showTrackerModal","closeTrackerModal","deleteTracker","_this3","confirm","saveTracker","_this4","saveEvoUser","_this5","addTracker","editTracker","tracker","showTokenModal","showUserModal","closeTokenModal","closeUserModal","getToken","_this6","undefined","external_token","alert","message","components","Modal","mounted","components_Settings","render","_vm","_h","$createElement","_c","_self","staticClass","_v","_l","key","on","click","$event","attrs","icon","md-direction","_s","external_api_key","_e","external_user_id","project","editProject","show","close","directives","name","rawName","value","expression","domProps","input","target","composing","$set","model","callback","$$v","options","md-active","md-content","md-confirm-text","update:mdActive","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/4.92b7aa76a2c7ff35b8b1.js","sourcesContent":["// Settings.vue\n<template>\n  <div>\n    <div class=\"md-layout md-gutter md-alignment-top-center center\">\n      <div class=\"md-layout-item md-size-80\">\n        <md-list>\n          <md-list-item>\n            Трекеры\n          </md-list-item>\n\n          <md-table>\n            <md-table-row>\n              <md-table-head></md-table-head>\n              <md-table-head>Название</md-table-head>\n              <md-table-head>Url</md-table-head>\n              <md-table-head>Тип</md-table-head>\n              <md-table-head>Токен</md-table-head>\n              <md-table-head>Пользователь</md-table-head>\n            </md-table-row>\n            <md-table-row v-bind:key=\"tracker.id\" v-for=\"tracker in trackers\">\n              <md-table-head>\n                <div v-on:click=\"editTracker(tracker)\" class=\"edit-icon\">\n                  <font-awesome-icon icon=\"edit\"/>\n                  <md-tooltip md-direction=\"top\">Редактировать</md-tooltip>\n                </div>\n              </md-table-head>\n              <md-table-head>{{tracker.title}}</md-table-head>\n              <md-table-head>{{tracker.api_url}}</md-table-head>\n              <md-table-head>{{tracker.type}}</md-table-head>\n              <md-table-head>\n                <a class=\"simple-link\" @click=\"showTokenModal(tracker)\">\n                  <md-tooltip md-direction=\"top\">Авторизация на трекере</md-tooltip>\n                  <span v-if=\"tracker.external_api_key\">{{tracker.external_api_key}}</span>\n                  <span v-if=\"!tracker.external_api_key\">Получить токен</span>\n                </a>\n              </md-table-head>\n              <md-table-head>\n                <a class=\"simple-link\" v-if=\"tracker.external_api_key && tracker.type === 'evo'\"\n                 @click=\"showUserModal(tracker)\">\n                  <span v-if=\"!tracker.external_user_id && tracker.type === 'evo'\">Указать пользователя</span>\n                  <span v-if=\"tracker.external_user_id\">{{tracker.external_user_id}}</span>\n                </a>\n                <span v-if=\"tracker.external_user_id && tracker.type === 'redmine'\">{{tracker.external_user_id}}</span>\n              </md-table-head>\n            </md-table-row>\n          </md-table>\n\n          <md-list-item>\n            <md-button @click=\"addTracker()\">Добавить redmine</md-button>\n          </md-list-item>\n        </md-list>\n      </div>\n\n      <br><br>\n\n      <div class=\"md-layout-item md-size-80\" v-if=\"projects\">\n        <md-list>\n          <md-list-item>\n            Проекты\n          </md-list-item>\n\n          <md-table>\n            <md-table-row>\n              <md-table-head></md-table-head>\n              <md-table-head>Название</md-table-head>\n              <md-table-head>Url</md-table-head>\n              <md-table-head>Тип</md-table-head>\n              <md-table-head>Токен</md-table-head>\n            </md-table-row>\n            <md-table-row v-bind:key=\"project.id\" v-for=\"project in projects\">\n              <md-table-head>\n                <div v-on:click=\"editProject(project.id)\">\n                  <font-awesome-icon icon=\"edit\"/>\n                </div>\n              </md-table-head>\n              <md-table-head>{{project.title}}</md-table-head>\n              <md-table-head>{{project.api_url}}</md-table-head>\n              <md-table-head>{{project.type}}</md-table-head>\n              <md-table-head>{{project.external_api_key}}</md-table-head>\n            </md-table-row>\n          </md-table>\n\n          <md-list-item>\n            <md-button>Добавить</md-button>\n          </md-list-item>\n        </md-list>\n      </div>\n    </div>\n\n    <modal :show=\"showTracker\" @close=\"closeTrackerModal\">\n      <div class=\"modal-header\">\n\n      </div>\n      <div class=\"modal-body\">\n        <input type=\"hidden\" v-model=\"currentTracker.id\" name=id>\n        <input type=\"hidden\" v-model=\"currentTracker.type\" name=type>\n        <md-field>\n          <label>Название</label>\n          <md-input v-model=\"currentTracker.title\"></md-input>\n        </md-field>\n        <md-field>\n          <label>Url</label>\n          <md-input v-model=\"currentTracker.api_url\"></md-input>\n        </md-field>\n      </div>\n      <div class=\"modal-footer text-right\">\n        <md-button class=\"md-primary\" @click=\"deleteTracker\">удалить</md-button>\n        <md-button class=\"md-primary\" @click=\"closeTrackerModal\">отмена</md-button>\n        <md-button class=\"md-accent\" @click=\"saveTracker\">сохранить</md-button>\n      </div>\n    </modal>\n\n    <modal :show=\"showToken\" @close=\"closeTokenModal\">\n      <div class=\"modal-header\">\n        <h2>Данные для авторизации в {{currentTracker.title}}</h2>\n      </div>\n      <div class=\"modal-body\">\n        <input type=\"hidden\" v-model=\"currentTracker.id\" name=id>\n        <input type=\"hidden\" v-model=\"currentTracker.type\" name=type>\n        <md-field>\n          <label>Логин</label>\n          <md-input v-model=\"loginToken\"></md-input>\n        </md-field>\n        <md-field>\n          <label>Пароль</label>\n          <md-input v-model=\"passwordToken\" type=\"password\"></md-input>\n        </md-field>\n      </div>\n      <div class=\"modal-footer text-right\">\n        <md-button class=\"md-primary\" @click=\"closeTokenModal\">отмена</md-button>\n        <md-button class=\"md-accent\" @click=\"getToken\">получить</md-button>\n      </div>\n    </modal>\n\n    <modal :show=\"showUser\">\n      <div class=\"modal-header\">\n        <h2>Выберите пользователя в {{currentTracker.title}}</h2>\n      </div>\n      <div class=\"modal-body\">\n        <input type=\"hidden\" v-model=\"currentTracker.id\" name=id>\n        <v-select v-model=\"evoUser\" :options=\"evoUsers\"/>\n      </div>\n      <div class=\"modal-footer text-right\">\n        <md-button class=\"md-primary\" @click=\"closeUserModal\">отмена</md-button>\n        <md-button class=\"md-accent\" @click=\"saveEvoUser\">сохранить</md-button>\n      </div>\n    </modal>\n    <md-dialog-alert :md-active.sync=\"showAlert\" :md-content=\"alertMessage\" md-confirm-text=\"Ок\" />\n  </div>\n</template>\n\n<script>\nimport API from './api.js'\nimport Modal from './Modal.vue'\n\nexport default {\n  data () {\n    return {\n      trackers: [],\n      evoUsers: [],\n      evoUser: '',\n      projects: null,\n      loginToken: '',\n      passwordToken: '',\n      currentTracker: {\n        id: 0,\n        title: '',\n        api_url: '',\n        type: 'redmine'\n      },\n      showTracker: false,\n      showUser: false,\n      showToken: false,\n\n      showAlert: false,\n      alertMessage: ''\n    }\n  },\n  methods: {\n    getTrackers () {\n      API.getTrackers()\n        .then(response => {\n          this.trackers = response.data.trackers\n        })\n        .catch(error => {\n          console.log(['getTasks error', error])\n        })\n    },\n    getEvoUsers () {\n      API.getEvoUsers()\n        .then(response => {\n          this.evoUsers = response.data.users\n        })\n        .catch(error => {\n          console.log(['getEvoUsers error', error])\n        })\n    },\n    showTrackerModal () {\n      this.showTracker = true\n    },\n    closeTrackerModal () {\n      this.showTracker = false\n    },\n    deleteTracker (id) {\n      if (confirm('вы действительно хотите удалить трекер из списка?')) {\n        API.deleteTracker(this.currentTracker)\n          .then(response => {\n            this.getTrackers()\n            this.showTracker = false\n          })\n          .catch(error => {\n            console.log(['getToken error', error])\n          })\n      }\n    },\n    saveTracker () {\n      // todo сообщение о невозможности редактирвоания, если трекер привязан еще к кому-то\n      API.saveTracker(this.currentTracker)\n        .then(response => {\n          this.getTrackers()\n          this.showTracker = false\n        })\n        .catch(error => {\n          console.log(['getToken error', error])\n        })\n    },\n    saveEvoUser () {\n      API.saveEvoUser(this.evoUser)\n        .then(response => {\n          this.getTrackers()\n          this.showUser = false\n        })\n        .catch(error => {\n          console.log(['saveTrackerUser error', error])\n        })\n    },\n    addTracker () {\n      this.currentTracker = {\n        id: 0,\n        title: '',\n        api_url: '',\n        type: 'redmine'\n      }\n      this.showTrackerModal()\n    },\n    editTracker (tracker) {\n      this.currentTracker = tracker\n      this.showTrackerModal()\n    },\n    showTokenModal (tracker) {\n      this.loginToken = ''\n      this.passwordToken = ''\n      this.currentTracker = tracker\n      this.showToken = true\n    },\n    showUserModal (tracker) {\n      if (tracker.type !== 'evo') {\n        return\n      }\n      this.currentTracker = tracker\n      this.showUser = true\n    },\n    closeTokenModal () {\n      this.showToken = false\n    },\n    closeUserModal () {\n      this.showUser = false\n    },\n    getToken () {\n      API.getToken(this.currentTracker.id, this.loginToken, this.passwordToken)\n        .then(response => {\n          if (response.data.external_token !== undefined && response.data.external_token !== null) {\n            this.getTrackers()\n\n            if (this.currentTracker.type === 'evo') {\n              this.getEvoUsers()\n            }\n\n            this.showToken = false\n          } else {\n            this.alert('Токен не получен')\n          }\n        })\n        .catch(error => {\n          console.log(['getToken error', error])\n        })\n    },\n    alert (message) {\n      this.alertMessage = message\n      this.showAlert = true\n    }\n  },\n  components: {\n    Modal\n  },\n  mounted () {\n    this.getTrackers()\n    this.getEvoUsers()\n  }\n}\n</script>\n\n<style scoped>\n.simple-link, .edit-icon {\n  cursor: pointer;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Settings.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"md-layout md-gutter md-alignment-top-center center\"},[_c('div',{staticClass:\"md-layout-item md-size-80\"},[_c('md-list',[_c('md-list-item',[_vm._v(\"\\n          Трекеры\\n        \")]),_vm._v(\" \"),_c('md-table',[_c('md-table-row',[_c('md-table-head'),_vm._v(\" \"),_c('md-table-head',[_vm._v(\"Название\")]),_vm._v(\" \"),_c('md-table-head',[_vm._v(\"Url\")]),_vm._v(\" \"),_c('md-table-head',[_vm._v(\"Тип\")]),_vm._v(\" \"),_c('md-table-head',[_vm._v(\"Токен\")]),_vm._v(\" \"),_c('md-table-head',[_vm._v(\"Пользователь\")])],1),_vm._v(\" \"),_vm._l((_vm.trackers),function(tracker){return _c('md-table-row',{key:tracker.id},[_c('md-table-head',[_c('div',{staticClass:\"edit-icon\",on:{\"click\":function($event){_vm.editTracker(tracker)}}},[_c('font-awesome-icon',{attrs:{\"icon\":\"edit\"}}),_vm._v(\" \"),_c('md-tooltip',{attrs:{\"md-direction\":\"top\"}},[_vm._v(\"Редактировать\")])],1)]),_vm._v(\" \"),_c('md-table-head',[_vm._v(_vm._s(tracker.title))]),_vm._v(\" \"),_c('md-table-head',[_vm._v(_vm._s(tracker.api_url))]),_vm._v(\" \"),_c('md-table-head',[_vm._v(_vm._s(tracker.type))]),_vm._v(\" \"),_c('md-table-head',[_c('a',{staticClass:\"simple-link\",on:{\"click\":function($event){_vm.showTokenModal(tracker)}}},[_c('md-tooltip',{attrs:{\"md-direction\":\"top\"}},[_vm._v(\"Авторизация на трекере\")]),_vm._v(\" \"),(tracker.external_api_key)?_c('span',[_vm._v(_vm._s(tracker.external_api_key))]):_vm._e(),_vm._v(\" \"),(!tracker.external_api_key)?_c('span',[_vm._v(\"Получить токен\")]):_vm._e()],1)]),_vm._v(\" \"),_c('md-table-head',[(tracker.external_api_key && tracker.type === 'evo')?_c('a',{staticClass:\"simple-link\",on:{\"click\":function($event){_vm.showUserModal(tracker)}}},[(!tracker.external_user_id && tracker.type === 'evo')?_c('span',[_vm._v(\"Указать пользователя\")]):_vm._e(),_vm._v(\" \"),(tracker.external_user_id)?_c('span',[_vm._v(_vm._s(tracker.external_user_id))]):_vm._e()]):_vm._e(),_vm._v(\" \"),(tracker.external_user_id && tracker.type === 'redmine')?_c('span',[_vm._v(_vm._s(tracker.external_user_id))]):_vm._e()])],1)})],2),_vm._v(\" \"),_c('md-list-item',[_c('md-button',{on:{\"click\":function($event){_vm.addTracker()}}},[_vm._v(\"Добавить redmine\")])],1)],1)],1),_vm._v(\" \"),_c('br'),_c('br'),_vm._v(\" \"),(_vm.projects)?_c('div',{staticClass:\"md-layout-item md-size-80\"},[_c('md-list',[_c('md-list-item',[_vm._v(\"\\n          Проекты\\n        \")]),_vm._v(\" \"),_c('md-table',[_c('md-table-row',[_c('md-table-head'),_vm._v(\" \"),_c('md-table-head',[_vm._v(\"Название\")]),_vm._v(\" \"),_c('md-table-head',[_vm._v(\"Url\")]),_vm._v(\" \"),_c('md-table-head',[_vm._v(\"Тип\")]),_vm._v(\" \"),_c('md-table-head',[_vm._v(\"Токен\")])],1),_vm._v(\" \"),_vm._l((_vm.projects),function(project){return _c('md-table-row',{key:project.id},[_c('md-table-head',[_c('div',{on:{\"click\":function($event){_vm.editProject(project.id)}}},[_c('font-awesome-icon',{attrs:{\"icon\":\"edit\"}})],1)]),_vm._v(\" \"),_c('md-table-head',[_vm._v(_vm._s(project.title))]),_vm._v(\" \"),_c('md-table-head',[_vm._v(_vm._s(project.api_url))]),_vm._v(\" \"),_c('md-table-head',[_vm._v(_vm._s(project.type))]),_vm._v(\" \"),_c('md-table-head',[_vm._v(_vm._s(project.external_api_key))])],1)})],2),_vm._v(\" \"),_c('md-list-item',[_c('md-button',[_vm._v(\"Добавить\")])],1)],1)],1):_vm._e()]),_vm._v(\" \"),_c('modal',{attrs:{\"show\":_vm.showTracker},on:{\"close\":_vm.closeTrackerModal}},[_c('div',{staticClass:\"modal-header\"}),_vm._v(\" \"),_c('div',{staticClass:\"modal-body\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.currentTracker.id),expression:\"currentTracker.id\"}],attrs:{\"type\":\"hidden\",\"name\":\"id\"},domProps:{\"value\":(_vm.currentTracker.id)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.currentTracker, \"id\", $event.target.value)}}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.currentTracker.type),expression:\"currentTracker.type\"}],attrs:{\"type\":\"hidden\",\"name\":\"type\"},domProps:{\"value\":(_vm.currentTracker.type)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.currentTracker, \"type\", $event.target.value)}}}),_vm._v(\" \"),_c('md-field',[_c('label',[_vm._v(\"Название\")]),_vm._v(\" \"),_c('md-input',{model:{value:(_vm.currentTracker.title),callback:function ($$v) {_vm.$set(_vm.currentTracker, \"title\", $$v)},expression:\"currentTracker.title\"}})],1),_vm._v(\" \"),_c('md-field',[_c('label',[_vm._v(\"Url\")]),_vm._v(\" \"),_c('md-input',{model:{value:(_vm.currentTracker.api_url),callback:function ($$v) {_vm.$set(_vm.currentTracker, \"api_url\", $$v)},expression:\"currentTracker.api_url\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"modal-footer text-right\"},[_c('md-button',{staticClass:\"md-primary\",on:{\"click\":_vm.deleteTracker}},[_vm._v(\"удалить\")]),_vm._v(\" \"),_c('md-button',{staticClass:\"md-primary\",on:{\"click\":_vm.closeTrackerModal}},[_vm._v(\"отмена\")]),_vm._v(\" \"),_c('md-button',{staticClass:\"md-accent\",on:{\"click\":_vm.saveTracker}},[_vm._v(\"сохранить\")])],1)]),_vm._v(\" \"),_c('modal',{attrs:{\"show\":_vm.showToken},on:{\"close\":_vm.closeTokenModal}},[_c('div',{staticClass:\"modal-header\"},[_c('h2',[_vm._v(\"Данные для авторизации в \"+_vm._s(_vm.currentTracker.title))])]),_vm._v(\" \"),_c('div',{staticClass:\"modal-body\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.currentTracker.id),expression:\"currentTracker.id\"}],attrs:{\"type\":\"hidden\",\"name\":\"id\"},domProps:{\"value\":(_vm.currentTracker.id)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.currentTracker, \"id\", $event.target.value)}}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.currentTracker.type),expression:\"currentTracker.type\"}],attrs:{\"type\":\"hidden\",\"name\":\"type\"},domProps:{\"value\":(_vm.currentTracker.type)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.currentTracker, \"type\", $event.target.value)}}}),_vm._v(\" \"),_c('md-field',[_c('label',[_vm._v(\"Логин\")]),_vm._v(\" \"),_c('md-input',{model:{value:(_vm.loginToken),callback:function ($$v) {_vm.loginToken=$$v},expression:\"loginToken\"}})],1),_vm._v(\" \"),_c('md-field',[_c('label',[_vm._v(\"Пароль\")]),_vm._v(\" \"),_c('md-input',{attrs:{\"type\":\"password\"},model:{value:(_vm.passwordToken),callback:function ($$v) {_vm.passwordToken=$$v},expression:\"passwordToken\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"modal-footer text-right\"},[_c('md-button',{staticClass:\"md-primary\",on:{\"click\":_vm.closeTokenModal}},[_vm._v(\"отмена\")]),_vm._v(\" \"),_c('md-button',{staticClass:\"md-accent\",on:{\"click\":_vm.getToken}},[_vm._v(\"получить\")])],1)]),_vm._v(\" \"),_c('modal',{attrs:{\"show\":_vm.showUser}},[_c('div',{staticClass:\"modal-header\"},[_c('h2',[_vm._v(\"Выберите пользователя в \"+_vm._s(_vm.currentTracker.title))])]),_vm._v(\" \"),_c('div',{staticClass:\"modal-body\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.currentTracker.id),expression:\"currentTracker.id\"}],attrs:{\"type\":\"hidden\",\"name\":\"id\"},domProps:{\"value\":(_vm.currentTracker.id)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.currentTracker, \"id\", $event.target.value)}}}),_vm._v(\" \"),_c('v-select',{attrs:{\"options\":_vm.evoUsers},model:{value:(_vm.evoUser),callback:function ($$v) {_vm.evoUser=$$v},expression:\"evoUser\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"modal-footer text-right\"},[_c('md-button',{staticClass:\"md-primary\",on:{\"click\":_vm.closeUserModal}},[_vm._v(\"отмена\")]),_vm._v(\" \"),_c('md-button',{staticClass:\"md-accent\",on:{\"click\":_vm.saveEvoUser}},[_vm._v(\"сохранить\")])],1)]),_vm._v(\" \"),_c('md-dialog-alert',{attrs:{\"md-active\":_vm.showAlert,\"md-content\":_vm.alertMessage,\"md-confirm-text\":\"Ок\"},on:{\"update:mdActive\":function($event){_vm.showAlert=$event}}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1d287368\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Settings.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1d287368\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Settings.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Settings.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Settings.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1d287368\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Settings.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1d287368\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Settings.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}